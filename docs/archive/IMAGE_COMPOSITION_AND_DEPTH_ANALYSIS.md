# GÃ¶rsel Kompozisyon ve Derinlik Analizi

**Tarih:** 25 Ocak 2026  
**AmaÃ§:** Uygulamada oluÅŸturulan gÃ¶rsellerdeki sahne derinliÄŸi eksikliÄŸi ve karakter hÃ¢kimiyeti sorunlarÄ±nÄ±n analizi  
**Durum:** Analiz - Plan aÅŸamasÄ±na geÃ§ilecek

---

## ğŸ“‹ Ä°Ã§indekiler

1. [Sorun Tespiti](#sorun-tespiti)
2. [Ã–rnek GÃ¶rseller Analizi](#Ã¶rnek-gÃ¶rseller-analizi)
3. [Mevcut Prompt YapÄ±sÄ± Ä°ncelemesi](#mevcut-prompt-yapÄ±sÄ±-incelemesi)
4. [SorunlarÄ±n Nedenleri](#sorunlarÄ±n-nedenleri)
5. [Teknik KÄ±sÄ±tlar](#teknik-kÄ±sÄ±tlar)
6. [Ã‡Ã¶zÃ¼m Ã–nerileri Temel BulgularÄ±](#Ã§Ã¶zÃ¼m-Ã¶nerileri-temel-bulgularÄ±)
7. [SonuÃ§ ve Sonraki AdÄ±mlar](#sonuÃ§-ve-sonraki-adÄ±mlar)

---

## ğŸ¯ Sorun Tespiti

### Mevcut Durum

Uygulamada oluÅŸturulan gÃ¶rsellerde ÅŸu sorunlar gÃ¶zlemlenmektedir:

1. **Sahne DerinliÄŸi EksikliÄŸi**
   - Ã–n plan, orta plan ve arka plan net bir ÅŸekilde ayrÄ±lmÄ±yor
   - Atmosferik perspektif (atmospheric perspective) yetersiz
   - Depth of field (alan derinliÄŸi) etkisi zayÄ±f
   - GÃ¶rseller "dÃ¼z" ve "iki boyutlu" gÃ¶rÃ¼nÃ¼yor

2. **Karakter HÃ¢kimiyeti**
   - Karakterler gÃ¶rselin Ã§oÄŸu zaman bÃ¼yÃ¼k bir bÃ¶lÃ¼mÃ¼nÃ¼ kaplÄ±yor
   - Ã‡evre (environment) yeterince gÃ¶rÃ¼nmÃ¼yor veya detaylandÄ±rÄ±lmamÄ±ÅŸ
   - Karakter-Ã§evre oranÄ± dengesiz
   - Karakterler sahneye entegre olmaktan Ã§ok, sahneyi "yutuyor"

3. **Kompozisyon SorunlarÄ±**
   - Sinematik sahne kurulumu eksik
   - Kamera aÃ§Ä±sÄ± ve perspektif Ã§eÅŸitliliÄŸi yetersiz
   - IÅŸÄ±klandÄ±rma (lighting) detaylarÄ± yetersiz
   - Renk paleti ve atmosfer zenginliÄŸi eksik

### Beklenen Kalite

Ã–rnek gÃ¶rsellerde gÃ¶zlemlenen kalite standartlarÄ±:

- âœ… **MÃ¼kemmel Alan DerinliÄŸi:** Ã–n, orta ve arka planÄ±n net ayrÄ±mÄ±
- âœ… **Dengeli Kompozisyon:** Karakterler sahnenin Ã¶nemli bir parÃ§asÄ± ama Ã§evreyi domine etmiyor
- âœ… **Sinematik Atmosfer:** AltÄ±n saat Ä±ÅŸÄ±klandÄ±rmasÄ±, gÃ¼neÅŸ Ä±ÅŸÄ±nlarÄ±, zengin renk paleti
- âœ… **Ã‡evre ZenginliÄŸi:** GeniÅŸ gÃ¶kyÃ¼zÃ¼, detaylÄ± arka plan, atmosferik unsurlar

---

## ğŸ–¼ï¸ Ã–rnek GÃ¶rseller Analizi

### Ã–rnek 1: Orman Yolu Sahnesi

**GÃ¶zlemlenen Ã–zellikler:**

1. **Kompozisyon ve Alan DerinliÄŸi:**
   - **Ã–n Plan:** KÃ¶pek ve kÄ±z Ã§ocuÄŸu net odakta, keskin detaylar
   - **Orta Plan:** Erkek Ã§ocuk, anne ve araba - dengeli yerleÅŸim
   - **Arka Plan:** YoÄŸun orman, gÃ¼neÅŸ Ä±ÅŸÄ±ÄŸÄ± sÃ¼zÃ¼lmesi, atmosferik perspektif
   - **Patika:** Ã–n plandan arka plana doÄŸru derinlik hissi yaratan leading line

2. **IÅŸÄ±klandÄ±rma:**
   - AltÄ±n saat (golden hour) Ä±ÅŸÄ±klandÄ±rmasÄ±
   - AÄŸaÃ§larÄ±n arasÄ±ndan sÃ¼zÃ¼len gÃ¼neÅŸ Ä±ÅŸÄ±nlarÄ± (god rays)
   - Karakterlerin arkasÄ±ndan gelen backlighting
   - Derin gÃ¶lgeler ve parlak vurgular

3. **Karakter-Ã‡evre Dengesi:**
   - Karakterler Ã¶n planda ama gÃ¶rselin %30-40'Ä±nÄ± kaplÄ±yor (dengeli)
   - Orman ve gÃ¶kyÃ¼zÃ¼ geniÅŸ alan kaplÄ±yor (%60-70)
   - Karakterler Ã§evreye entegre, ayrÄ± durmuyor

### Ã–rnek 2: Kamp AteÅŸi Sahnesi

**GÃ¶zlemlenen Ã–zellikler:**

1. **Kompozisyon:**
   - **Ã–n Plan:** KÃ¶pek ve kamp ateÅŸi - net odak
   - **Orta Plan:** Karakterler kÃ¼tÃ¼k Ã¼zerinde - dengeli grup kompozisyonu
   - **Arka Plan:** Su yÃ¼zeyi, gÃ¼n batÄ±mÄ± gÃ¶kyÃ¼zÃ¼ - atmosferik zenginlik
   - **GÃ¶kyÃ¼zÃ¼:** TÃ¼m Ã¼st kÄ±smÄ± kaplayan dramatik gÃ¼n batÄ±mÄ±

2. **Atmosfer:**
   - GÃ¼n batÄ±mÄ±nÄ±n sÄ±cak renkleri (turuncu, pembe, mor)
   - Su yÃ¼zeyindeki yansÄ±malar
   - AteÅŸin sÄ±cak Ä±ÅŸÄ±ÄŸÄ± ile gÃ¶kyÃ¼zÃ¼nÃ¼n soÄŸuk renkleri kontrastÄ±
   - Duygusal derinlik (warmth, coziness)

3. **Karakter-Ã‡evre Dengesi:**
   - Karakterler merkezi odak ama Ã§evre geniÅŸ alan kaplÄ±yor
   - GÃ¶kyÃ¼zÃ¼ ve su yÃ¼zeyi gÃ¶rselin %50+ alanÄ±nÄ± kaplÄ±yor
   - Karakterler sahneye entegre, doÄŸal duruÅŸ

### Ã–rnek 3: Ã‡Ã¶p Toplama Sahnesi

**GÃ¶zlemlenen Ã–zellikler:**

1. **Alan DerinliÄŸi:**
   - **Ã–n Plan:** Patika baÅŸlangÄ±cÄ±, Ã§iÃ§ekler, kÃ¶pek - hafif bulanÄ±k (bokeh)
   - **Orta Plan:** Karakterler keskin odakta
   - **Arka Plan:** Uzaktaki aÄŸaÃ§lar yumuÅŸak, atmosferik perspektif
   - **Odak DÃ¼zlemi:** Karakterler Ã¼zerinde yoÄŸunlaÅŸmÄ±ÅŸ

2. **IÅŸÄ±klandÄ±rma:**
   - AÄŸaÃ§larÄ±n arasÄ±ndan sÃ¼zÃ¼len gÃ¼neÅŸ Ä±ÅŸÄ±ÄŸÄ±
   - Karakterlerin arkasÄ±ndan gelen backlighting
   - Yapraklar ve Ã§iÃ§ekler Ã¼zerindeki parlamalar (highlights)
   - DoÄŸal gÃ¶lge-Ä±ÅŸÄ±k dengesi

3. **Kompozisyon:**
   - Patika leading line olarak kullanÄ±lmÄ±ÅŸ
   - ÃœÃ§te bir kuralÄ± (rule of thirds) uygulanmÄ±ÅŸ
   - Hafif alÃ§ak kamera aÃ§Ä±sÄ± (Ã§ocuk perspektifi)

### Ã–rnek 4: Odun Toplama Sahnesi (Kontrol - Mevcut Sorunlar)

**GÃ¶zlemlenen Sorunlar:**

1. **Derinlik EksikliÄŸi:**
   - KatmanlÄ± dÃ¼zenleme var ama Ä±ÅŸÄ±klandÄ±rma eÅŸit ve yumuÅŸak
   - Dramatik gÃ¶lgeler veya vurgular yok
   - ÃœÃ§ boyutluluk hissi zayÄ±f
   - "Sinematik" etki yok

2. **Karakter HÃ¢kimiyeti:**
   - KÃ¶pek ve karakterler Ã§erÃ§evenin Ã¶nemli bÃ¶lÃ¼mÃ¼nÃ¼ kaplÄ±yor
   - Arka plan ve sahne atmosferi daha az Ã¶n plana Ã§Ä±kÄ±yor
   - Karakterler Ã§ok yakÄ±n plan ve bÃ¼yÃ¼k Ã¶lÃ§ekte

3. **IÅŸÄ±klandÄ±rma:**
   - DoÄŸal ve yaygÄ±n Ä±ÅŸÄ±k kaynaklarÄ±
   - GÃ¼Ã§lÃ¼ gÃ¶lge/Ä±ÅŸÄ±k oyunlarÄ± eksik
   - Dramatik atmosfer yok

---

## ğŸ” Mevcut Prompt YapÄ±sÄ± Ä°ncelemesi

### Mevcut Prompt BileÅŸenleri

**Dosya:** `lib/prompts/image/v1.0.0/scene.ts`

#### 1. `generateFullPagePrompt()` Fonksiyonu

**Mevcut YapÄ±:**
```typescript
1. Anatomical directives (en baÅŸta)
2. Style description
3. Layered composition (FOREGROUND/MIDGROUND/BACKGROUND)
4. Scene prompt
5. Age rules
6. Multiple characters note
7. Cover/consistency notes
8. Clothing consistency
9. No text directive
```

**Sorunlar:**
- âœ… Layered composition var ama yeterince detaylandÄ±rÄ±lmamÄ±ÅŸ
- âŒ Depth of field direktifleri eksik
- âŒ Kamera aÃ§Ä±sÄ± ve perspektif detaylarÄ± yetersiz
- âŒ IÅŸÄ±klandÄ±rma detaylarÄ± minimal
- âŒ Atmosferik perspektif direktifleri yok
- âŒ Karakter-Ã§evre oranÄ± belirtilmemiÅŸ

#### 2. `getCinematicElements()` Fonksiyonu

**Mevcut Kod:**
```typescript
export function getCinematicElements(pageNumber: number, mood: string): string {
  const lighting = mood === 'exciting' ? 'dynamic lighting' : mood === 'calm' ? 'soft ambient' : 'warm natural light'
  const angle = pageNumber === 1 ? 'hero shot' : 'varied perspective'
  return `layered depth, rule of thirds, ${lighting}, ${angle}, cinematic quality`
}
```

**Sorunlar:**
- âŒ Ã‡ok genel ve yÃ¼zeysel
- âŒ Spesifik Ä±ÅŸÄ±klandÄ±rma teknikleri yok (golden hour, backlighting, god rays)
- âŒ Kamera aÃ§Ä±sÄ± Ã§eÅŸitliliÄŸi yetersiz
- âŒ Depth of field detaylarÄ± yok

#### 3. `generateLayeredComposition()` Fonksiyonu

**Mevcut Kod:**
```typescript
export function generateLayeredComposition(
  sceneInput: SceneInput,
  characterAction: string,
  environment: string
): string {
  const layers: string[] = []
  
  layers.push(`FOREGROUND: ${characterAction}, main character in clear focus with detailed features visible`)
  layers.push(`MIDGROUND: ${sceneInput.sceneDescription || 'story elements and contextual objects'}`)
  layers.push(`BACKGROUND: ${environment}, providing depth and atmosphere`)
  
  return layers.join('. ')
}
```

**Sorunlar:**
- âŒ Depth of field (bokeh, focus plane) detaylarÄ± yok
- âŒ Atmosferik perspektif direktifleri yok
- âŒ Karakter-Ã§evre oranÄ± belirtilmemiÅŸ
- âŒ Ã–n plan bulanÄ±klÄ±ÄŸÄ± (foreground bokeh) yok

#### 4. `getCompositionRules()` Fonksiyonu

**Mevcut Kod:**
```typescript
function getCompositionRules(focus: string, pageNumber: number): string {
  const base = focus === 'character' ? 'character centered, clear face' :
               focus === 'environment' ? 'wide environmental shot' :
               'balanced composition'
  const special = pageNumber === 1 ? ', inviting opening' : pageNumber >= 10 ? ', conclusion' : ''
  return base + special
}
```

**Sorunlar:**
- âŒ Ã‡ok basit ve genel
- âŒ Kamera aÃ§Ä±sÄ± Ã§eÅŸitliliÄŸi yok
- âŒ Leading lines, symmetry, diagonal composition gibi teknikler yok
- âŒ Karakter-Ã§evre oranÄ± belirtilmemiÅŸ

#### 5. `getLightingDescription()` Fonksiyonu

**Mevcut Kod:**
```typescript
function getLightingDescription(timeOfDay: string, mood: string): string {
  const lighting: Record<string, string> = {
    morning: 'soft morning light', 
    afternoon: 'bright daylight',
    evening: 'golden hour', 
    night: 'moonlight',
  }
  return lighting[timeOfDay] || 'bright daylight'
}
```

**Sorunlar:**
- âŒ Ã‡ok minimal - sadece zaman belirtiyor
- âŒ IÅŸÄ±k yÃ¶nÃ¼ (backlighting, side lighting) yok
- âŒ IÅŸÄ±k kalitesi (hard/soft) yok
- âŒ Ã–zel efektler (god rays, rim lighting) yok
- âŒ GÃ¶lge detaylarÄ± yok

### Mevcut Environment Templates

**Dosya:** `lib/prompts/image/v1.0.0/scene.ts`

**Mevcut Kod:**
```typescript
const ENVIRONMENT_TEMPLATES: Record<string, string[]> = {
  adventure: ['lush forest, dappled sunlight, wildflowers', 'mountain path, colorful wildflowers, distant peaks'],
  sports: ['sunny playground, colorful equipment', 'sports field, bright cones, goal posts'],
  // ...
}
```

**Sorunlar:**
- âŒ Ã‡ok kÄ±sa ve yÃ¼zeysel
- âŒ Arka plan detaylarÄ± yetersiz
- âŒ Atmosferik unsurlar (gÃ¶kyÃ¼zÃ¼, hava durumu) minimal
- âŒ Derinlik yaratacak unsurlar (uzak aÄŸaÃ§lar, ufuk Ã§izgisi) yok

---

## ğŸ” SorunlarÄ±n Nedenleri

### 1. Prompt Detay EksikliÄŸi

**Ana Sorun:** Prompt'larda kompozisyon, kamera aÃ§Ä±sÄ±, karakter-Ã§evre oranÄ±, Ä±ÅŸÄ±klandÄ±rma detaylarÄ±, alan derinliÄŸi gibi sinematik ve sanatsal Ã¶ÄŸeler yeterince detaylandÄ±rÄ±lmamÄ±ÅŸ.

**Ã–rnek Eksiklikler:**
- Depth of field direktifleri yok
- Atmosferik perspektif direktifleri yok
- Spesifik Ä±ÅŸÄ±klandÄ±rma teknikleri yok (backlighting, god rays, rim lighting)
- Kamera aÃ§Ä±sÄ± Ã§eÅŸitliliÄŸi yetersiz
- Karakter-Ã§evre oranÄ± belirtilmemiÅŸ

### 2. Model AyarlarÄ±

**Mevcut Ayarlar:**
- Model: `gpt-image-1.5` (sabit)
- Size: `1024x1536` (portrait) (sabit)
- Quality: `low` (sabit)

**Not:** Model ve ayarlar sabitlenmiÅŸ durumda. Quality `low` olmasÄ± detay ve derinlik iÃ§in yeterli performansÄ± saÄŸlamÄ±yor olabilir, ancak prompt iyileÅŸtirmesi Ã¶ncelikli olmalÄ±dÄ±r.

### 3. Prompt Optimizasyonu (18 Ocak 2026)

**YapÄ±lan Optimizasyon:**
- Style directives: 1500â†’200 chars (%87 azalma)
- Cinematic elements: 50â†’5 lines (%90 azalma)
- Environment templates: 90â†’15 lines (%83 azalma)
- Composition rules: 28â†’7 lines (%75 azalma)
- **Toplam: ~%70 azalma**

**Sorun:** Bu optimizasyon token bÃ¼tÃ§esi iÃ§in iyi ama kalite iÃ§in kritik detaylarÄ±n kaybÄ±na neden olmuÅŸ olabilir.

### 4. Karakter OdaklÄ± YaklaÅŸÄ±m

**Mevcut YaklaÅŸÄ±m:**
- Prompt'larda karakter detaylarÄ± Ã§ok vurgulanÄ±yor
- Ã‡evre ve atmosfer ikinci planda kalÄ±yor
- Karakter-Ã§evre dengesi kurulmamÄ±ÅŸ

---

## âš™ï¸ Teknik KÄ±sÄ±tlar

### 1. Model ve Ayarlar

**Mevcut Durum:**
- Model: `gpt-image-1.5` (sabit - override yok)
- Size: `1024x1536` (portrait) (sabit)
- Quality: `low` (sabit)
- Rate Limit: 4 images/90s

**KÄ±sÄ±tlar:**
- Quality `low` olmasÄ± detay ve derinlik iÃ§in yeterli performansÄ± saÄŸlamÄ±yor olabilir
- Ancak prompt iyileÅŸtirmesi ile bu kÄ±sÄ±t aÅŸÄ±labilir
- Model deÄŸiÅŸikliÄŸi ÅŸu an mÃ¼mkÃ¼n deÄŸil (sabit deÄŸerler)

### 2. Prompt Uzunluk Limiti

**Mevcut Limit:**
- OpenAI dokÃ¼mantasyonu: 32,000 karakter (GPT-image-1.5)

**Durum:**
- Mevcut prompt'lar bu limitin Ã§ok altÄ±nda
- Daha detaylÄ± prompt'lar eklenebilir
- Token bÃ¼tÃ§esi yeterli

### 3. Backend AltyapÄ±

**Mevcut Durum:**
- âœ… Queue sistemi mevcut (`lib/queue/image-generation-queue.ts`)
- âœ… Paralel batch processing (4 gÃ¶rsel)
- âœ… Rate limiting aktif
- âœ… Cover-as-reference yaklaÅŸÄ±mÄ± mevcut

**SonuÃ§:** Backend altyapÄ±sÄ±nda bir sorun yok. Sorun prompt kalitesinde.

---

## ğŸ’¡ Ã‡Ã¶zÃ¼m Ã–nerileri Temel BulgularÄ±

### 1. Prompt Ä°yileÅŸtirme Ã–nceliÄŸi

**Ana Bulgu:** Sorunun temel nedeni prompt kalitesi. Model ve ayarlar sabit olsa da, doÄŸru prompt'lar ile kaliteli sonuÃ§lar alÄ±nabilir.

**Ã–ncelik SÄ±rasÄ±:**
1. **Kompozisyon ve Alan DerinliÄŸi Direktifleri** (en kritik)
2. **IÅŸÄ±klandÄ±rma DetaylarÄ±** (Ã§ok Ã¶nemli)
3. **Kamera AÃ§Ä±sÄ± ve Perspektif** (Ã¶nemli)
4. **Karakter-Ã‡evre OranÄ±** (Ã¶nemli)
5. **Atmosferik Perspektif** (Ã¶nemli)

### 2. Ã–rnek GÃ¶rsellerden Ã‡Ä±karÄ±lan Teknikler

**Kompozisyon:**
- Leading lines (patika, yol)
- Rule of thirds
- Layered depth (Ã¶n/orta/arka plan)
- Balanced character-environment ratio

**IÅŸÄ±klandÄ±rma:**
- Golden hour / sunset lighting
- Backlighting (karakterlerin arkasÄ±ndan)
- God rays (aÄŸaÃ§larÄ±n arasÄ±ndan sÃ¼zÃ¼len Ä±ÅŸÄ±nlar)
- Rim lighting (karakter kenarlarÄ±nda parlaklÄ±k)
- Atmospheric haze (uzak planlarda sisli gÃ¶rÃ¼nÃ¼m)

**Kamera ve Perspektif:**
- Wide shot (geniÅŸ aÃ§Ä±)
- Medium shot (orta plan)
- Low angle (alÃ§ak aÃ§Ä± - Ã§ocuk perspektifi)
- Eye-level (gÃ¶z seviyesi)
- Varied perspectives (sayfa sayfa deÄŸiÅŸen aÃ§Ä±lar)

**Depth of Field:**
- Shallow depth of field (sÄ±ÄŸ alan derinliÄŸi)
- Foreground bokeh (Ã¶n plan bulanÄ±klÄ±ÄŸÄ±)
- Background bokeh (arka plan bulanÄ±klÄ±ÄŸÄ±)
- Focus plane (odak dÃ¼zlemi) karakterler Ã¼zerinde

**Atmosferik Perspektif:**
- Uzak planlarda renklerin aÃ§Ä±lmasÄ±
- KontrastÄ±n azalmasÄ±
- DetaylarÄ±n yumuÅŸamasÄ±
- Haze/fog efekti

### 3. Karakter-Ã‡evre Dengesi

**Hedef Oran:**
- Karakterler: %30-40 (Ã¶n plan + orta plan)
- Ã‡evre: %60-70 (orta plan + arka plan + gÃ¶kyÃ¼zÃ¼)

**Direktifler:**
- "Character occupies 30-40% of frame, environment 60-70%"
- "Wide environmental context, character integrated into scene"
- "Expansive background with sky, trees, landscape visible"

### 4. Prompt YapÄ±sÄ± Ä°yileÅŸtirmesi

**Ã–nerilen YapÄ±:**
1. Anatomical directives (mevcut - korunmalÄ±)
2. **NEW: Composition & Depth Directives** (yeni - eklenecek)
3. **NEW: Lighting & Atmosphere Directives** (yeni - eklenecek)
4. **NEW: Camera & Perspective Directives** (yeni - eklenecek)
5. Style description (mevcut - korunmalÄ±)
6. Character prompt (mevcut - korunmalÄ±)
7. Environment description (mevcut - geniÅŸletilecek)
8. Layered composition (mevcut - detaylandÄ±rÄ±lacak)

### 5. Fonksiyon Ä°yileÅŸtirmeleri

**GÃ¼ncellenecek Fonksiyonlar:**
- `getCinematicElements()` â†’ Daha detaylÄ± Ä±ÅŸÄ±klandÄ±rma ve kamera direktifleri
- `generateLayeredComposition()` â†’ Depth of field ve atmosferik perspektif ekle
- `getCompositionRules()` â†’ Kamera aÃ§Ä±sÄ± Ã§eÅŸitliliÄŸi ve karakter-Ã§evre oranÄ± ekle
- `getLightingDescription()` â†’ Spesifik Ä±ÅŸÄ±klandÄ±rma teknikleri ekle
- `getEnvironmentDescription()` â†’ Arka plan detaylarÄ±nÄ± geniÅŸlet

**Yeni Fonksiyonlar:**
- `getDepthOfFieldDirectives()` â†’ Depth of field direktifleri
- `getAtmosphericPerspectiveDirectives()` â†’ Atmosferik perspektif direktifleri
- `getCameraAngleDirectives()` â†’ Kamera aÃ§Ä±sÄ± direktifleri
- `getCharacterEnvironmentRatio()` â†’ Karakter-Ã§evre oranÄ± direktifleri

---

## âœ… SonuÃ§ ve Sonraki AdÄ±mlar

### Ana Bulgular

1. **Sorunun Temel Nedeni:** Prompt kalitesi - detay eksikliÄŸi
2. **Teknik KÄ±sÄ±t Yok:** Backend altyapÄ±sÄ± yeterli, model sabit ama prompt ile aÅŸÄ±labilir
3. **Ã‡Ã¶zÃ¼m:** Prompt iyileÅŸtirmesi - kompozisyon, derinlik, Ä±ÅŸÄ±klandÄ±rma direktifleri

### Sonraki AdÄ±mlar

1. **Plan OluÅŸturma:** Bu analize dayanarak detaylÄ± bir iyileÅŸtirme planÄ± oluÅŸturulacak
2. **Prompt GÃ¼ncellemeleri:** Yeni direktifler eklenecek, mevcut fonksiyonlar geniÅŸletilecek
3. **Test ve Ä°terasyon:** Ä°yileÅŸtirmeler test edilecek, sonuÃ§lar deÄŸerlendirilecek
4. **DokÃ¼mantasyon:** GÃ¼ncellenmiÅŸ prompt yapÄ±sÄ± dokÃ¼mante edilecek

### Beklenen Ä°yileÅŸtirmeler

- âœ… Daha iyi sahne derinliÄŸi (Ã¶n/orta/arka plan net ayrÄ±mÄ±)
- âœ… Dengeli karakter-Ã§evre oranÄ± (karakterler %30-40, Ã§evre %60-70)
- âœ… Sinematik atmosfer (altÄ±n saat, backlighting, god rays)
- âœ… Zengin Ã§evre detaylarÄ± (gÃ¶kyÃ¼zÃ¼, arka plan, atmosferik unsurlar)
- âœ… Daha profesyonel gÃ¶rsel kalitesi

---

## ğŸŒ Web AraÅŸtÄ±rmasÄ± BulgularÄ± (2026 Best Practices)

### 1. Depth of Field ve Kompozisyon Teknikleri

**Kaynak:** gpt-image.com, reelmind.ai, appiqa.com (2026 best practices)

**Ã–nemli Bulgular:**

1. **Kamera Parametreleri Belirtmek:**
   - Lens tipi, odak uzaklÄ±ÄŸÄ± ve diyafram aÃ§Ä±klÄ±ÄŸÄ± belirtmek kritik
   - Ã–rnek: "50 mm prime lens, f/1.4" veya "wide-angle 24 mm, f/16 deep focus"
   - DÃ¼ÅŸÃ¼k f-numaralarÄ± (f/1.4, f/2.8) â†’ sÄ±ÄŸ alan derinliÄŸi (shallow DoF)
   - YÃ¼ksek f-numaralarÄ± (f/11, f/16) â†’ derin alan derinliÄŸi (deep focus)

2. **Odak DÃ¼zlemlerini TanÄ±mlamak:**
   - "sharp focus on subject's eyes"
   - "foreground blur"
   - "background softly out-of-focus"
   - "middle ground in sharp detail"
   - Spesifik odak noktalarÄ± belirtmek (kenar, merkez, belirli element)

3. **IÅŸÄ±klandÄ±rma ve Ruh Hali:**
   - "soft golden-hour light from behind"
   - "volumetric rays"
   - "dramatic backlight with rim lighting"
   - "even, diffuse overhead light"
   - IÅŸÄ±klandÄ±rma, algÄ±lanan keskinlik ve derinliÄŸi etkiler

4. **Kompozisyon ve Ã‡erÃ§eveleme Terimleri:**
   - Kamera aÃ§Ä±larÄ±: "low-angle", "top-down", "wide shot", "close-up"
   - Ã‡erÃ§eveleme: "rule of thirds", "centered subject", "symmetrical", "negative space"
   - Ã–lÃ§ek: Karakter Ã§erÃ§evede bÃ¼yÃ¼k mÃ¼ kÃ¼Ã§Ã¼k mÃ¼?
   - Ã–n plan / orta plan / arka plan iliÅŸkileri derinliÄŸi tanÄ±mlar

5. **Doku, Kusur ve GerÃ§ekÃ§i Detaylar:**
   - "slight blemishes", "gritty textures", "tiny imperfections"
   - "micro-scratches"
   - MÃ¼kemmel temiz yÃ¼zeyler yapay gÃ¶rÃ¼nÃ¼m yaratÄ±r

6. **Prompt YapÄ±sÄ±:**
   - Ä°yi bir yapÄ±: Subject â†’ Action/Composition â†’ Lighting & Environment â†’ Camera/Depth details â†’ Style/Textural/Color details
   - Bu sÄ±ralama modelin Ã¶ncelikleri doÄŸru ayarlamasÄ±na yardÄ±mcÄ± olur

### 2. Sinematik IÅŸÄ±klandÄ±rma Teknikleri

**Kaynak:** hailiuoai.video, reddit.com (2026 best practices)

**Ã–nemli Bulgular:**

1. **IÅŸÄ±klandÄ±rma Elementleri:**
   - Zaman: golden hour, sunrise, sunset, late afternoon
   - IÅŸÄ±k yÃ¶nÃ¼: backlight, rim lighting, low-angle sun
   - Atmosfer: mist, fog, dust particles, volumetric light, atmospheric haze
   - GÃ¶lge Ã¶zellikleri: soft-edged long shadows, diffused shadows, dramatic contrast
   - Lens stili: shallow depth of field, creamy bokeh, film stock look
   - Renk ruh hali: warm amber tones, golden glow, subtle lens flare, halo effect

2. **"Source â†’ Obstacle â†’ Medium" YapÄ±sÄ±:**
   - Fiziksel olarak mantÄ±klÄ± Ä±ÅŸÄ±k efektleri iÃ§in
   - Ã–rnek: "sunlight (source) through slatted fence (obstacle) into morning mist (medium)"

3. **Spesifik Renk SÄ±caklÄ±klarÄ±:**
   - "amber, honeyed, terracotta glow" gibi spesifik terimler
   - Sadece "warm light" demek yeterli deÄŸil

4. **GÃ¶lge DavranÄ±ÅŸÄ±:**
   - "elongated, soft, directional, creating silhouettes or side-lighting"
   - AlÃ§ak aÃ§Ä±lÄ± gÃ¼neÅŸ genellikle uzun yumuÅŸak gÃ¶lgeler verir

5. **Atmosferik ParÃ§acÄ±klar:**
   - Mist, dust, haze - god rays / volumetric lighting iÃ§in kritik

6. **Kamera DetaylarÄ±:**
   - Lens tipi, diyafram, odak uzaklÄ±ÄŸÄ±, aspect ratio, Ã§Ã¶zÃ¼nÃ¼rlÃ¼k
   - GerÃ§ekÃ§iliÄŸi destekler

### 3. Karakter-Ã‡evre Dengesi Teknikleri

**Kaynak:** kalon.ai, reddit.com, glweb.eu, promptsty.com (2026 best practices)

**Ã–nemli Bulgular:**

1. **Karakter + Ã‡evre SÄ±rasÄ±:**
   - Ã–nce karakteri belirt: "a young woman...", "an old wizard..."
   - Sonra ortamÄ±: "in a ruined cathedral at twilight"
   - Bu sÄ±ralama karakterin ana odak olduÄŸunu garanti eder

2. **Perspektif ve YerleÅŸim:**
   - "close-up portrait", "full-body wide shot", "distant silhouette"
   - "foreground, midground, background" derinlik dÃ¼zenlemesi iÃ§in
   - Ã‡erÃ§eveleme ipuÃ§larÄ±: "rule of thirds", "centered", "asymmetrical", "low-angle view"

3. **Ã–lÃ§ek ve OrantÄ±yÄ± AÃ§Ä±kÃ§a TanÄ±mlamak:**
   - Karakter bÃ¼yÃ¼k istiyorsan: "towering cathedral dwarfing the lone figure" veya "character occupies ~30% of frame"
   - Ã‡evre aÄŸÄ±rlÄ±klÄ± sahneler iÃ§in: "tiny figure walking through vast desert dunes at dawn"
   - KarÅŸÄ±laÅŸtÄ±rmalÄ± dil AI'Ä±n gÃ¶receli boyutlarÄ± anlamasÄ±na yardÄ±mcÄ± olur

4. **DoÄŸru Aspect Ratio SeÃ§imi:**
   - GeniÅŸ oranlar (16:9, 21:9): manzara, epik Ã¶lÃ§ek, panoramik gÃ¶rÃ¼nÃ¼mler
   - Kare (1:1): dengeli, merkezi kompozisyon - portreler iÃ§in iyi
   - Dikey (9:16, 4:5): tam vÃ¼cut, dikey yapÄ±lar, dramatik yÃ¼kseklik
   - Aspect ratio'yu prompt'ta aÃ§Ä±kÃ§a belirtmek Ã¶nemli

5. **Odak iÃ§in Detay, IÅŸÄ±klandÄ±rma ve Kontrast Dengesi:**
   - IÅŸÄ±klandÄ±rma ile dikkat Ã§ek: "rim light", "backlight", "spotlight on character"
   - Karakter iÃ§in daha zengin detay belirt: "hyper-detailed armor, muted forest background"
   - Ã‡evre ÅŸekilleri karakteri tamamlasÄ±n ama rekabet etmesin

### 4. AraÅŸtÄ±rma ve Teknolojik Ä°Ã§gÃ¶rÃ¼ler

**Kaynak:** arxiv.org (2026 research papers)

1. **Bokeh Diffusion:**
   - Modern araÅŸtÄ±rma, diffusion modellerinde bulanÄ±klÄ±ÄŸÄ± ("defocus blur parameter") aÃ§Ä±kÃ§a kontrol edebileceÄŸimizi gÃ¶steriyor
   - Prompt'ta doÄŸrudan bulanÄ±klÄ±k istemek giderek daha etkili hale geliyor

2. **ComposeAnything:**
   - Derinlik bilgisiyle zenginleÅŸtirilmiÅŸ layout'lar
   - Model'e nesnelerin 3D uzayda birbirine gÃ¶re nerede oturmasÄ± gerektiÄŸini sÃ¶ylemek
   - GerÃ§ekÃ§i uzaysal derinlik ve kompozisyon iÃ§in yardÄ±mcÄ±

---

## ğŸ“– Hikaye OluÅŸturma Kalitesi Analizi

### Mevcut Durum

**Model SeÃ§enekleri:**
- **GPT-4o** (default, en kaliteli) - ~$0.035 per story
- **GPT-4o-mini** (daha hÄ±zlÄ±, daha ucuz) - ~$0.01-0.02 per story
- **GPT-3.5-turbo** (legacy, en ucuz) - ~$0.005 per story

**Mevcut Prompt YapÄ±sÄ±:**
- âœ… YaÅŸ grubuna uygun direktifler
- âœ… GÃ¼venlik kurallarÄ±
- âœ… EÄŸitici temalar
- âœ… DetaylÄ± sayfa yapÄ±sÄ±
- âœ… GÃ¶rsel Ã§eÅŸitlilik gereksinimleri
- âœ… Metin uzunluk gereksinimleri
- âœ… Karakter tutarlÄ±lÄ±ÄŸÄ±
- âœ… Ã‡oklu dil desteÄŸi

### Web AraÅŸtÄ±rmasÄ± BulgularÄ± (2026 Best Practices)

**Kaynak:** medium.com, techtarget.com, saasprompts.com, hostinger.com, godofprompt.ai

**Ã–nemli Bulgular:**

1. **Spesifik ve Somut Olmak:**
   - âŒ KÃ¶tÃ¼: "Write a story about friendship"
   - âœ… Ä°yi: "Write a story about two forest animals who disagree and learn to share"
   - Net, somut prompt'lar belirsiz veya genel iÃ§eriÄŸi azaltÄ±r

2. **Pozitif Talimatlar Kullanmak:**
   - âŒ KÃ¶tÃ¼: "Don't use difficult words"
   - âœ… Ä°yi: "Use simple words"
   - Pozitif Ã§erÃ§eveleme LLM'ler tarafÄ±ndan daha kolay anlaÅŸÄ±lÄ±r

3. **Ã–rnek veya Modeller Dahil Etmek:**
   - "Here's how I like it: [short sample]. Now write something similar."
   - Bu stil rehberliÄŸi saÄŸlar

4. **BelirsizliÄŸi SÄ±nÄ±rlamak:**
   - âŒ KÃ¶tÃ¼: "something fun", "nice adventure"
   - âœ… Ä°yi: "a scary thunderstorm", "a race against time", "saving the rainbow"
   - BaÄŸlam olmadan belirsiz terimlerden kaÃ§Ä±nmak

5. **Delimiter ve YapÄ± Kullanmak:**
   - Talimatlar ve Ã¶rnek metin arasÄ±nda net ayrÄ±m
   - Tag'ler, tÄ±rnak iÅŸaretleri veya satÄ±r sonlarÄ± kullanmak

6. **Ä°terasyon: Test + Ä°yileÅŸtirme:**
   - Daha basit bir prompt ile baÅŸla
   - Eksik veya fazla olanlarÄ± gÃ¶zden geÃ§ir
   - Eklenen detaylar, daraltÄ±lmÄ±ÅŸ odak veya stil ayarlamalarÄ± ile dÃ¼zelt

7. **Derinlik ve Pacing KontrolÃ¼:**
   - Ã‡ocuklar iÃ§in pacing Ã¶nemli
   - GÃ¼Ã§lÃ¼ bir hook erken, kÄ±sa sahneler, Ã¶ngÃ¶rÃ¼lebilir kalÄ±plar
   - Sayfa sayfa breakdown iste

8. **Ton, Kelime DaÄŸarcÄ±ÄŸÄ± ve Duygu YÃ¶netimi:**
   - "warm", "encouraging", "not scary", "silly", "calm bedtime voice" gibi rehberlik
   - Daha genÃ§ yaÅŸlar iÃ§in: "no words longer than 5 letters" veya "use repetition"

9. **GÃ¶rsel ve Duyusal DetaylarÄ± TeÅŸvik Etmek:**
   - "describe what the forest looks like", "what sounds", "what smells", "colors", "textures"
   - Ä°llÃ¼strasyon ve hayal gÃ¼cÃ¼nÃ¼ destekler

10. **Birden Fazla Versiyon Ä°stemek:**
    - FarklÄ± aÃ§Ä±larla iki veya Ã¼Ã§ versiyon iste
    - Bir komik, bir duygusal, bir macera
    - VaryantlarÄ± karÅŸÄ±laÅŸtÄ±rmak daha gÃ¼Ã§lÃ¼ bir versiyon seÃ§meye veya gÃ¼Ã§lÃ¼ yÃ¶nleri birleÅŸtirmeye yardÄ±mcÄ± olur

### Model vs Prompt: Hangi Daha Ã–nemli?

**Cevap: Ä°kisi de Ã¶nemli, ama prompt daha kritik**

**Model'in RolÃ¼:**
- GPT-4o: En yÃ¼ksek kalite, daha iyi anlama, daha yaratÄ±cÄ± Ã§Ä±ktÄ±lar
- GPT-4o-mini: Ä°yi kalite, daha hÄ±zlÄ±, daha ucuz
- GPT-3.5-turbo: Temel kalite, en hÄ±zlÄ±, en ucuz

**Prompt'un RolÃ¼:**
- Model ne kadar iyi olursa olsun, kÃ¶tÃ¼ bir prompt kÃ¶tÃ¼ sonuÃ§ verir
- Ä°yi bir prompt, daha dÃ¼ÅŸÃ¼k bir model ile bile iyi sonuÃ§lar verebilir
- Prompt, modelin ne Ã¼reteceÄŸini kontrol eder

**Ã–neri:**
1. **Ã–nce prompt'u optimize et** - Mevcut prompt iyi ama web araÅŸtÄ±rmasÄ± bulgularÄ±na gÃ¶re iyileÅŸtirilebilir
2. **Sonra model seÃ§imi** - GPT-4o zaten default, bu doÄŸru seÃ§im
3. **Test ve iterasyon** - FarklÄ± prompt varyasyonlarÄ±nÄ± test et, en iyisini seÃ§

### Mevcut Prompt'ta Ä°yileÅŸtirilebilecek Alanlar

1. **Ã–rnek Metin Ekleme:**
   - Mevcut prompt'ta Ã¶rnek metin yok
   - Web araÅŸtÄ±rmasÄ±: Ã–rnek metin eklemek stil rehberliÄŸi saÄŸlar

2. **Daha Spesifik Talimatlar:**
   - Mevcut prompt zaten detaylÄ± ama bazÄ± alanlar daha spesifik olabilir
   - Ã–zellikle "show, don't tell" Ã¶rnekleri geniÅŸletilebilir

3. **Pacing KontrolÃ¼:**
   - Mevcut prompt'ta pacing direktifleri var ama daha detaylandÄ±rÄ±labilir
   - "GÃ¼Ã§lÃ¼ bir hook erken" gibi spesifik talimatlar eklenebilir

4. **Duyusal Detaylar:**
   - Mevcut prompt'ta gÃ¶rsel detaylar var ama duyusal detaylar (ses, koku, dokunma) daha vurgulanabilir

5. **Birden Fazla Versiyon:**
   - Mevcut sistem tek versiyon Ã¼retiyor
   - Ä°steÄŸe baÄŸlÄ± olarak birden fazla versiyon Ã¼retme seÃ§eneÄŸi eklenebilir

### SonuÃ§ ve Ã–neriler

**Hikaye Kalitesi Ä°Ã§in:**
1. âœ… **Model:** GPT-4o zaten kullanÄ±lÄ±yor (doÄŸru seÃ§im)
2. ğŸ”„ **Prompt:** Mevcut prompt iyi ama web araÅŸtÄ±rmasÄ± bulgularÄ±na gÃ¶re iyileÅŸtirilebilir:
   - Ã–rnek metin ekleme
   - Daha spesifik "show, don't tell" Ã¶rnekleri
   - Duyusal detaylarÄ± daha fazla vurgulama
   - Pacing kontrolÃ¼nÃ¼ detaylandÄ±rma
3. ğŸ§ª **Test:** FarklÄ± prompt varyasyonlarÄ±nÄ± test et, en iyisini seÃ§

**Ã–ncelik:**
- **KÄ±sa vadede:** Prompt iyileÅŸtirmeleri (dÃ¼ÅŸÃ¼k maliyet, yÃ¼ksek etki)
- **Uzun vadede:** Model seÃ§eneklerini test et (GPT-4o zaten en iyi, ama maliyet optimizasyonu iÃ§in GPT-4o-mini de test edilebilir)

---

## ğŸ“š Referanslar

- Ã–rnek gÃ¶rseller analizi (kullanÄ±cÄ± tarafÄ±ndan paylaÅŸÄ±lan)
- Mevcut prompt dosyalarÄ± (`lib/prompts/image/v1.0.0/`)
- GPT araÅŸtÄ±rma notlarÄ± (`gpt-arastirma.txt`)
- Anatomical Prompt Improvements Guide (`docs/guides/ANATOMICAL_PROMPT_IMPROVEMENTS_GUIDE.md`)
- **Web AraÅŸtÄ±rmasÄ± KaynaklarÄ± (2026):**
  - gpt-image.com - Depth of field ve kompozisyon best practices
  - reelmind.ai - Photorealistic image generation techniques
  - appiqa.com - AI image generation tutorial
  - hailiuoai.video - Cinematic lighting techniques
  - kalon.ai - Character-environment balance guide
  - medium.com - Prompt engineering best practices
  - techtarget.com - Prompt engineering tips
  - arxiv.org - Bokeh Diffusion ve ComposeAnything research papers

---

**Not:** Bu analiz, plan aÅŸamasÄ±na geÃ§meden Ã¶nce mevcut durumu anlamak iÃ§in hazÄ±rlanmÄ±ÅŸtÄ±r. Plan aÅŸamasÄ±nda bu bulgulara dayanarak detaylÄ± bir iyileÅŸtirme stratejisi oluÅŸturulacaktÄ±r.

---

## âœ… Plan TamamlandÄ± (25 Ocak 2026)

Bu analize dayanarak detaylÄ± bir iyileÅŸtirme planÄ± oluÅŸturuldu ve uygulandÄ±:

**GÃ¶rsel Prompt Ä°yileÅŸtirmeleri:**
- âœ… 4 yeni fonksiyon eklendi (depth of field, atmospheric perspective, camera angles, character-environment ratio)
- âœ… 5 mevcut fonksiyon gÃ¼ncellendi (cinematic elements, layered composition, composition rules, lighting, environment)
- âœ… `generateFullPagePrompt()` yeniden dÃ¼zenlendi ve yeni direktifler entegre edildi
- âœ… Versiyon: v1.1.0 â†’ v1.2.0

**Hikaye Prompt Ä°yileÅŸtirmeleri:**
- âœ… Ã–rnek metin eklendi (yaÅŸ grubuna gÃ¶re)
- âœ… "Show, don't tell" Ã¶rnekleri geniÅŸletildi
- âœ… Duyusal detaylar vurgulandÄ± (gÃ¶rsel, iÅŸitsel, dokunsal, koku)
- âœ… Pacing kontrolÃ¼ detaylandÄ±rÄ±ldÄ±
- âœ… Versiyon: v1.0.3 â†’ v1.1.0

**DokÃ¼mantasyon:**
- âœ… docs/prompts template dokÃ¼manlarÄ± gÃ¼ncellendi

**DetaylÄ± plan:** `docs/guides/IMAGE_COMPOSITION_AND_DEPTH_ANALYSIS.md` analizine dayanarak oluÅŸturuldu ve uygulandÄ±.
